# Claude Code Statusline & Model-info å·¥å…·é›†

> **ä½œè€…**: [imxiaoyanhh](https://github.com/imxiaoyanhh)
>
> **ä»“åº“**: https://github.com/imxiaoyanhh/claude-code-statusline-and-model-info

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸º Claude Code è®¾è®¡çš„å·¥å…·é›†ï¼ŒåŒ…å« Statusline æ¨¡å‹æ˜¾ç¤ºå¢å¼ºå’Œæ¨¡å‹ä¿¡æ¯æŸ¥çœ‹å‘½ä»¤ã€‚æ¯æ¬¡åŠŸèƒ½æ›´æ–°éƒ½ä¼šä»¥æ—¥æœŸæ–‡ä»¶å¤¹å½¢å¼å­˜æ¡£ï¼Œæ–¹ä¾¿æŸ¥çœ‹å†å²ç‰ˆæœ¬ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. Statusline è„šæœ¬
- âœ… å®æ—¶æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„æ¨¡å‹åç§°
- âœ… æ”¯æŒæœ¬åœ°ä»£ç†æ¨¡å‹ï¼ˆGLM-4.7ã€DeepSeek ç­‰ï¼‰
- âœ… Token ä½¿ç”¨è¿›åº¦æ¡
- âœ… è‡ªåŠ¨è¦†ç›– Claude Code é»˜è®¤ä¼ é€’çš„æ¨¡å‹åç§°

### 2. Model-info å‘½ä»¤
- âœ… æŸ¥çœ‹å½“å‰æ¨¡å‹é…ç½®
- âœ… æŸ¥çœ‹ API ç«¯ç‚¹å’Œè®¤è¯æ–¹å¼
- âœ… ç¡®è®¤ Statusline åŒæ­¥çŠ¶æ€

---

## ğŸ“ ä»“åº“ç»“æ„

```
claude-code-statusline-and-model-info/
â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â””â”€â”€ 20260131-230128/             # ç‰ˆæœ¬æ–‡ä»¶å¤¹ (æ—¥æœŸ-æ—¶åˆ†ç§’)
    â”œâ”€â”€ statusline-command.sh    # Statusline è„šæœ¬
    â”œâ”€â”€ model-info.md            # Model-info å‘½ä»¤
    â”œâ”€â”€ statuslineè¯´æ˜.md        # Statusline åŠŸèƒ½è¯´æ˜
    â””â”€â”€ model-infoè¯´æ˜.md        # Model-info åŠŸèƒ½è¯´æ˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£… Statusline è„šæœ¬

```bash
# å¤åˆ¶æœ€æ–°ç‰ˆæœ¬çš„è„šæœ¬
cp 20260131-230128/statusline-command.sh ~/.claude/statusline-command.sh

# ç¡®ä¿ jq å·²å®‰è£…ï¼Œä¿®æ”¹è„šæœ¬ä¸­çš„ JQ_PATH å˜é‡
```

### å®‰è£… Model-info å‘½ä»¤

```bash
# å¤åˆ¶æœ€æ–°ç‰ˆæœ¬çš„å‘½ä»¤
cp 20260131-230128/model-info.md ~/.claude/commands/model-info.md
```

### é…ç½®æ¨¡å‹

ç¼–è¾‘ `~/.claude/model-config.json`ï¼š

```json
{
  "model": "glm-4.7",
  "note": "å½“ä½¿ç”¨ cc switch åˆ‡æ¢æ¨¡å‹æ—¶ï¼Œè¯·æ›´æ–°æ­¤æ–‡ä»¶ä¸­çš„ model å­—æ®µ"
}
```

---

## ğŸ“‹ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ–‡ä»¶å¤¹ | è¯´æ˜ |
|------|------|--------|------|
| v1.0.0 | 2026-01-31 | [20260131-230128](./20260131-230128/) | åˆå§‹ç‰ˆæœ¬ |

---

## ğŸ”„ å¦‚ä½•ä½¿ç”¨å†å²ç‰ˆæœ¬

æ¯ä¸ªæ—¥æœŸæ–‡ä»¶å¤¹éƒ½æ˜¯è¯¥æ—¶é—´ç‚¹çš„å®Œæ•´ç‰ˆæœ¬ï¼ŒåŒ…å«ï¼š

```
20260131-230128/
â”œâ”€â”€ statusline-command.sh    # å¯ç›´æ¥ä½¿ç”¨çš„è„šæœ¬
â”œâ”€â”€ model-info.md            # å¯ç›´æ¥ä½¿ç”¨çš„å‘½ä»¤
â”œâ”€â”€ statuslineè¯´æ˜.md        # è¯¥ç‰ˆæœ¬çš„åŠŸèƒ½è¯´æ˜
â””â”€â”€ model-infoè¯´æ˜.md        # è¯¥ç‰ˆæœ¬çš„åŠŸèƒ½è¯´æ˜
```

è¦ä½¿ç”¨æŸä¸ªå†å²ç‰ˆæœ¬ï¼Œåªéœ€å¤åˆ¶å¯¹åº”æ–‡ä»¶åˆ°æ‚¨çš„ Claude Code é…ç½®ç›®å½•ã€‚

---

## ğŸ“¸ æ•ˆæœå±•ç¤º

### Statusline æ˜¾ç¤º
```
glm-4.7 | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 111k/200k (55%) | Tokens:111292
```

### Model-info è¾“å‡º
```
# ğŸ¤– Claude Code æ¨¡å‹é…ç½®ä¿¡æ¯
âœ… å½“å‰æ¨¡å‹: glm-4.7
ğŸ”— API ç«¯ç‚¹: http://127.0.0.1:5000
ğŸ”‘ è®¤è¯æ–¹å¼: PROXY_MANAGED
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### jq è·¯å¾„é…ç½®

ç¼–è¾‘ `statusline-command.sh` ä¸­çš„ `JQ_PATH`ï¼š

```bash
JQ_PATH="/f/develop/miniconda/Library/mingw-w64/bin/jq.exe"
```

### æ¨¡å‹é…ç½®ä¼˜å…ˆçº§

```
1. model-config.json (æœ€é«˜ä¼˜å…ˆçº§)
2. Claude Code input_json
3. é»˜è®¤å€¼ "unknown"
```

---

## ğŸ› é—®é¢˜æ’æŸ¥

### Statusline ä»æ˜¾ç¤ºé”™è¯¯çš„æ¨¡å‹åç§°

1. ç¡®è®¤ `~/.claude/model-config.json` å†…å®¹æ­£ç¡®
2. ç¡®è®¤ jq è·¯å¾„é…ç½®æ­£ç¡®
3. é‡å¯ IDE è®© statusline é‡æ–°åŠ è½½

### /model-info å‘½ä»¤ä¸ç”Ÿæ•ˆ

1. ç¡®è®¤æ–‡ä»¶å·²å¤åˆ¶åˆ° `~/.claude/commands/` ç›®å½•
2. é‡å¯ Claude Code
3. æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2026-01-31)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… Statusline å®æ—¶è¯»å– model-config.json
- âœ… æ”¯æŒ model-config.json è¦†ç›– input_json æ¨¡å‹åç§°
- âœ… æ·»åŠ  /model-info æŸ¥çœ‹å‘½ä»¤
- âœ… å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»£ç å¼€æºï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚

---

## ğŸ‘¤ ä½œè€…

**GitHub**: [imxiaoyanhh](https://github.com/imxiaoyanhh)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ Claude Code æä¾›çš„å¼ºå¤§æ‰©å±•èƒ½åŠ›ï¼
